{"version":3,"sources":["redux/actions/message.js","utils/Token.js","services/messageServices.js","redux/sagas/message.js","redux/actions/user.js","services/userServices.js","redux/sagas/user.js","redux/sagas/index.js","redux/reducers/user.js","redux/reducers/message.js","redux/reducers/rootReducer.js","components/Button/index.js","components/TextInput/index.js","components/Loader/index.js","components/TextArea/index.js","utils/Icons.js","utils/Validators.js","components/Popup/MessagePrompt/index.js","components/Popup/PopupGenerator.js","components/Popup/index.js","components/UserMenu/index.js","components/Message/index.js","assets/Logo.png","pages/Mailbox/index.js","pages/Auth/index.js","pages/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["updateMessageList","user_id","mode","type","data","sendMessageFailed","error","value","localStorage","setItem","getItem","api","process","payload","token","Token","axios","post","headers","Authorization","delete","params","put","message_id","get","fetchList","sendMessage","deleteMessage","readMessages","watchMessages","call","messageServices","messages","message","callback","Action","takeLatest","signInSuccess","userInfo","signInFailed","signUpFailed","signIn","a","signUp","authorizeUser","signUpUser","watchSignIn","userServices","user","userAction","takeEvery","rootSaga","fork","initialState","authError","loadingAuth","userReducer","state","action","response","messageList","loadingList","messageError","listError","loadingMessage","messageReducer","rootReducer","combineReducers","Button","props","text","className","onClick","blockBtn","icon","style","width","display","TextInput","label","onChange","password","minLength","maxLength","validator","useState","inputError","setError","handleInput","e","target","validate","length","Loader","TextArea","OutBoundMailBox","xmlns","viewBox","d","InBoundMailBox","Refresh","id","transform","height","PaperAirplane","TrashCan","CrossMark","ValidateUsername","match","ValidatePassword","MessagePrompt","recipient","setRecipient","topic","setTopic","messageText","setMessage","success","setSuccess","useSelector","dispatch","useDispatch","handleSucces","mailbox","toggleHandler","senderId","sendMessageHandler","GeneratePopup","Popup","UserMenu","activeMailbox","activeMailboxHandler","name","setActiveMailbox","messageToggled","toggleMessage","Message","was_read","created_at","content","role","sender_name","recipient_name","deleteHandler","open","userId","Date","toLocaleString","withRouter","history","push","useEffect","deletePromptHandler","window","confirm","src","Logo","alt","map","key","signUpMode","toggleSignUp","userName","setUserName","setPassword","verifyPassword","setVerifyPassword","usernameValid","passwordValid","verifyPasswordsValid","signUpHandler","forwardToMailbox","exact","path","persistConfig","storage","persistedReducer","persistReducer","App","sagaMiddleWare","createSagaMiddleware","store","createStore","applyMiddleware","persistor","persistStore","run","loading","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e35b2a4.chunk.js","sourcesContent":["export const REQUEST_MESSAGE_LIST = \"REQUEST_MESSAGE_LIST\";\r\nexport const MESSAGE_LIST_SUCCESS = \"MESSAGE_LIST_SUCCESS\";\r\nexport const MESSAGE_LIST_FAILED = \"MESSAGE_LIST_FAILED\";\r\n\r\nexport const REQUEST_DELETE_MESSAGE = \"REQUEST_DELETE_MESSAGE\";\r\nexport const DELETE_MESSAGE_SUCCESS = \"DELETE_MESSAGE_SUCCESS\";\r\nexport const DELETE_MESSAGE_FAILED = \"DELETE_MESSAGE_FAILED\";\r\n\r\nexport const REQUEST_SEND_MESSAGE = \"REQUEST_SEND_MESSAGE\";\r\nexport const SENT_MESSAGE_FAILED = \"SENT_MESSAGE_FAILED\";\r\nexport const SENT_MESSAGE_SUCCESS = 'SENT_MESSAGE_SUCCESS'\r\nexport const REQUEST_READ_MESSAGE = \"REQUEST_READ_MESSAGE\";\r\nexport const READ_MESSAGE_SUCCESS = \"READ_MESSAGE_SUCCESS\";\r\nexport const READ_MESSAGE_FAILED = \"READ_MESSAGE_FAILED\";\r\n\r\nexport const updateMessageList = (user_id, mode) => {\r\n  return {\r\n    type: REQUEST_MESSAGE_LIST,\r\n    data: { user_id, mode },\r\n  };\r\n};\r\n\r\nexport const updateMessageListSuccess = (messages) => {\r\n  return {\r\n    type: MESSAGE_LIST_SUCCESS,\r\n    data: { messages },\r\n  };\r\n};\r\n\r\nexport const updateMessageListFailed = (error) => {\r\n  return {\r\n    type: MESSAGE_LIST_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n\r\nexport const sendMessage = (message, callback) => {\r\n  return {\r\n    type: REQUEST_SEND_MESSAGE,\r\n    data: { message, callback },\r\n  };\r\n};\r\n\r\nexport const sendMessageSuccess = () => {\r\n  return {\r\n    type: SENT_MESSAGE_SUCCESS,\r\n    data:  {},\r\n  };\r\n};\r\n\r\nexport const sendMessageFailed = (error) => {\r\n  return {\r\n    type: SENT_MESSAGE_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n\r\nexport const readMessage = (user_id, message_id) => {\r\n  return {\r\n    type: REQUEST_READ_MESSAGE,\r\n    data: { user_id, message_id },\r\n  };\r\n};\r\n\r\nexport const readMessageFailed = (error) => {\r\n  return {\r\n    type: READ_MESSAGE_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n\r\nexport const deleteMessage = (user_id, message_id, type ) => {\r\n  return {\r\n    type: REQUEST_DELETE_MESSAGE,\r\n    data: { user_id, message_id, type },\r\n  };\r\n};\r\n\r\nexport const deleteMessageSuccess = (messages) => {\r\n  return {\r\n    type: DELETE_MESSAGE_SUCCESS,\r\n    data: { messages },\r\n  };\r\n};\r\n\r\nexport const deleteMessageFailed = (error) => {\r\n  return {\r\n    type: DELETE_MESSAGE_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n","export default {\r\n  saveToken: (value) => localStorage.setItem(\"token\", value),\r\n  deleteToken: () => localStorage.setItem(\"token\", null),\r\n  getToken: () => localStorage.getItem(\"token\"),\r\n  hasToken: () => !!localStorage.getItem(\"token\"),\r\n};\r\n","import axios from \"axios\";\r\nimport Token from \"../utils/Token\";\r\nconst api = process.env.REACT_APP_API_URL;\r\nexport default {\r\n  sendMessage: (payload) => {\r\n    const token = Token.getToken();\r\n    return axios.post(`${api}message/send`, payload, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n\r\n  deleteMessage: (payload) => {\r\n    const token = Token.getToken();\r\n    return axios.delete(`${api}message/delete`, {\r\n      params: payload,\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n  readMessage: (payload) => {\r\n    const token = Token.getToken();\r\n    return axios.put(\r\n      `${api}message/read`,\r\n      { message_id: payload },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n  },\r\n  getMessages: (payload) => {\r\n    const token = Token.getToken();\r\n    return axios.get(`${api}message/list`, {\r\n      params: payload,\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n};\r\n","import { call, put, takeLatest } from \"redux-saga/effects\";\r\nimport * as Action from \"../actions/message\";\r\nimport messageServices from \"../../services/messageServices\";\r\n\r\nfunction* fetchList({ data: user_id, mode }) {\r\n  try {\r\n    const { data } = yield call(messageServices.getMessages, user_id, mode);\r\n    yield put(Action.updateMessageListSuccess(data));\r\n  } catch (error) {\r\n    yield put(Action.updateMessageListFailed(error));\r\n  }\r\n}\r\n\r\nfunction* sendMessage({ data: { message, callback } }) {\r\n  try {\r\n    yield call(messageServices.sendMessage, message);\r\n    yield call(callback, null);\r\n    yield put(Action.sendMessageSuccess());\r\n  } catch (error) {\r\n    yield put(Action.sendMessageFailed(error));\r\n  }\r\n}\r\n\r\nfunction* deleteMessage({ data: { user_id, message_id, type } }) {\r\n  try {\r\n    const data = yield call(messageServices.deleteMessage, {\r\n      user_id,\r\n      message_id,\r\n    });\r\n    yield put(Action.updateMessageList(user_id, type));\r\n  } catch (error) {\r\n    yield put(Action.sendMessageFailed(error));\r\n  }\r\n}\r\n\r\nfunction* readMessages({ data: { user_id, message_id } }) {\r\n  try {\r\n    yield call(messageServices.readMessage, message_id);\r\n    yield put(Action.updateMessageList(user_id, \"received\"));\r\n  } catch (error) {\r\n    yield put(Action.sendMessageFailed(error));\r\n  }\r\n}\r\n\r\nexport function* watchMessages() {\r\n  yield takeLatest(\"REQUEST_MESSAGE_LIST\", fetchList);\r\n  yield takeLatest(\"REQUEST_SEND_MESSAGE\", sendMessage);\r\n  yield takeLatest(\"REQUEST_DELETE_MESSAGE\", deleteMessage);\r\n  yield takeLatest(\"REQUEST_READ_MESSAGE\", readMessages);\r\n}\r\n","export const REQUEST_SIGN_IN = \"REQUEST_SIGN_IN\";\r\nexport const REQUEST_LOG_OUT = \"REQUEST_LOG_OUT\";\r\nexport const SIGN_IN_SUCCESS = \"SIGN_IN_SUCCESS\";\r\nexport const SIGN_IN_FAILED = \"SIGN_IN_FAILED\";\r\nexport const REQUEST_SIGN_UP = \"REQUEST_SIGN_UP\";\r\nexport const SIGN_UP_FAILED = \"SIGN_UP_FAILED\";\r\nexport const SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS'\r\nexport const signIn = (userInfo, callback) => {\r\n  return {\r\n    type: REQUEST_SIGN_IN,\r\n    data: { userInfo, callback },\r\n  };\r\n};\r\n\r\nexport const signInSuccess = (userInfo) => {\r\n  return {\r\n    type: SIGN_IN_SUCCESS,\r\n    data: { userInfo },\r\n  };\r\n};\r\n\r\nexport const signInFailed = (error) => {\r\n  return {\r\n    type: SIGN_IN_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n\r\nexport const signUp = (userInfo, callback) => {\r\n  return {\r\n    type: REQUEST_SIGN_UP,\r\n    data: { userInfo, callback },\r\n  };\r\n};\r\nexport const signUpSuccess = () => {\r\n  return {\r\n    type: SIGN_UP_SUCCESS,\r\n    data: { },\r\n  };\r\n}\r\nexport const signUpFailed = (error) => {\r\n  return {\r\n    type: SIGN_UP_FAILED,\r\n    data: { error },\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  return {\r\n    type: REQUEST_LOG_OUT,\r\n  };\r\n};\r\n","import axios from \"axios\";\r\nconst api = process.env.REACT_APP_API_URL;\r\nexport default {\r\n  signIn: async (payload) => await axios.post(`${api}users/sign-in`, payload),\r\n  signUp: async (payload) => await axios.post(`${api}users/sign-up`, payload),\r\n};\r\n","import { call, put, takeEvery } from \"redux-saga/effects\";\r\nimport * as userAction from \"../actions/user\";\r\nimport userServices from \"../../services/userServices\";\r\nimport Token from \"../../utils/Token\";\r\n\r\nfunction* authorizeUser({ data: { userInfo, callback } }) {\r\n  try {\r\n    const {\r\n      data: { token, user },\r\n    } = yield call(userServices.signIn, { ...userInfo });\r\n    yield call(Token.saveToken, token.token);\r\n    yield put(userAction.signInSuccess(user));\r\n    yield call(callback, null);\r\n  } catch (error) {\r\n    yield put(userAction.signInFailed(error));\r\n  }\r\n}\r\n\r\nfunction* signUpUser({ data: { userInfo, callback } }) {\r\n  try {\r\n    yield call(userServices.signUp, { ...userInfo });\r\n    const {\r\n      data: { token, user },\r\n    } = yield call(userServices.signIn, {\r\n      ...userInfo,\r\n    });\r\n    yield call(Token.saveToken, token.token);\r\n    yield put(userAction.signInSuccess(user));\r\n    yield call(callback, null);\r\n  } catch (error) {\r\n    yield put(userAction.signUpFailed(error));\r\n  }\r\n}\r\nexport function* watchSignIn() {\r\n  yield takeEvery(\"REQUEST_SIGN_IN\", authorizeUser);\r\n  yield takeEvery(\"REQUEST_SIGN_UP\", signUpUser);\r\n}\r\n","import { all, fork } from \"redux-saga/effects\";\r\nimport { watchMessages } from \"./message\";\r\nimport { watchSignIn } from \"./user\";\r\nexport default function* rootSaga() {\r\n  yield fork(watchSignIn);\r\n  yield fork(watchMessages);\r\n}\r\n","const initialState = {\r\n  userInfo: {},\r\n  authError: \"\",\r\n  loadingAuth: false,\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  const { data } = action;\r\n  switch (action.type) {\r\n    case \"REQUEST_SIGN_IN\" || \"REQUEST_SIGN_UP\":\r\n      return {\r\n        ...state,\r\n        loadingAuth: true,\r\n      };\r\n    case \"SIGN_IN_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        userInfo: { ...data.userInfo },\r\n        loadingAuth: false,\r\n        authError: \"\",\r\n      };\r\n    case \"SIGN_UP_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loadingAuth: false,\r\n        authError: \"\",\r\n      };\r\n    case \"SIGN_IN_FAILED\":\r\n      return {\r\n        ...state,\r\n        loadingAuth: false,\r\n        authError: data.error.response.data,\r\n      };\r\n    case \"SIGN_UP_FAILED\":\r\n      return {\r\n        ...state,\r\n        loadingAuth: false,\r\n        authError: data.error.response.data,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default userReducer;\r\n","const initialState = {\r\n  messageList: [],\r\n  loadingList: false,\r\n  messageError: '',\r\n  listError: '',\r\n  loadingMessage: false,\r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  const { data } = action;\r\n  switch (action.type) {\r\n    case \"MESSAGE_LIST_SUCCESS\" ||\r\n      \"DELETE_MESSAGE_SUCCESS\" ||\r\n      \"READ_MESSAGE_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        messageList: [...data.messages],\r\n        loadingList: false,\r\n        listError: '',\r\n      };\r\n    case \"REQUEST_SEND_MESSAGE\":\r\n      return {\r\n        ...state,\r\n        loadingMessage: true,\r\n      };\r\n    case \"SENT_MESSAGE_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        messageError: '',\r\n        loadingMessage: false,\r\n      };\r\n    case \"REQUESTING_LIST\":\r\n      return {\r\n        ...state,\r\n        loadingList: true,\r\n      };\r\n    case \"MESSAGE_LIST_FAILED\":\r\n      return {\r\n        ...state,\r\n        listError: data.error.response.data,\r\n        loadingList: false,\r\n      };\r\n    case \"SENT_MESSAGE_FAILED\" ||\r\n      \"DELETE_MESSAGE_FAILED\" ||\r\n      \"READ_MESSAGE_FAILED\":\r\n      return {\r\n        ...state,\r\n        messageError: data.error.response.data,\r\n        loadingMessage: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default messageReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./user\";\r\nimport messages from \"./message\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    messages,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport \"./button.scss\";\r\nconst Button = (props) => {\r\n  const { text, className, onClick, blockBtn, icon } = props;\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      style={blockBtn && { width: `100%`, display: \"block\" }}\r\n      className={className}\r\n    >\r\n      {icon}\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useState } from \"react\";\r\nimport \"./text-input.scss\";\r\nconst TextInput = (props) => {\r\n  const {\r\n    label,\r\n    onChange,\r\n    password,\r\n    minLength,\r\n    maxLength,\r\n    validator,\r\n    value,\r\n  } = props;\r\n  const [inputError, setError] = useState(\"\");\r\n  const handleInput = (e) => {\r\n    const { value } = e.target;\r\n    const validate = validator && value.length ? validator(value) : true;\r\n    if (typeof validate === \"boolean\" && validate) {\r\n      inputError && setError(\"\");\r\n    } else {\r\n      setError(validate);\r\n    }\r\n    onChange(value);\r\n\r\n  };\r\n  return (\r\n    <>\r\n      <div className={`text-input-wrapper`}>\r\n        <label>{label}</label>\r\n        <input\r\n          type={password ? \"password\" : \"text\"}\r\n          minLength={minLength}\r\n          maxLength={maxLength}\r\n          value={value}\r\n          onChange={(e) => handleInput(e)}\r\n        />\r\n      </div>\r\n      <span className={`error-text mini`}>{inputError}</span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import React from \"react\";\r\nimport './Loader.scss'\r\nconst Loader = () => {\r\n  return <div className={\"loader\"}></div>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport \"./text-area.scss\";\r\nconst TextArea = (props) => {\r\n  const { label, onChange, value } = props;\r\n  return (\r\n    <div className={`text-area-wrapper`}>\r\n      <label>{label}</label>\r\n      <textarea value={value} onChange={(e) => onChange(e.target.value)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextArea;\r\n","export const OutBoundMailBox = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n    <path d=\"M4,0H16a4,4,0,0,1,4,4V16a4,4,0,0,1-4,4H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0ZM4,2A2,2,0,0,0,2,4v7H6.5a1,1,0,0,1,1,.81h0s0,0,0,.06a2.15,2.15,0,0,0,.08.25,3.34,3.34,0,0,0,.41.79A2.58,2.58,0,0,0,10.24,14a2,2,0,0,0,1.95-1,2.54,2.54,0,0,0,.27-.75c0-.1,0-.19,0-.24V12h0a1,1,0,0,1,1-1H18V4a2,2,0,0,0-2-2ZM18,13H14.34a4.31,4.31,0,0,1-.4,1,4,4,0,0,1-3.7,2,4.57,4.57,0,0,1-3.88-1.92A5.35,5.35,0,0,1,5.77,13H2v3a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2ZM12.71,7.71a1,1,0,0,0,0-1.42l-2-2a1,1,0,0,0-1.42,0l-2,2A1,1,0,1,0,8.71,7.71L9,7.41V10.5a1,1,0,0,0,2,0V7.41l.29.3A1,1,0,0,0,12.71,7.71Z\" />\r\n  </svg>\r\n);\r\n\r\nexport const InBoundMailBox = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n    <path d=\"M4,0H16a4,4,0,0,1,4,4V16a4,4,0,0,1-4,4H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0ZM4,2A2,2,0,0,0,2,4v7H6.5a1,1,0,0,1,1,.81h0s0,0,0,.06a2.15,2.15,0,0,0,.08.25,3.34,3.34,0,0,0,.41.79A2.58,2.58,0,0,0,10.24,14a2,2,0,0,0,1.95-1,2.54,2.54,0,0,0,.27-.75c0-.1,0-.19,0-.24V12h0a1,1,0,0,1,1-1H18V4a2,2,0,0,0-2-2ZM18,13H14.34a4.31,4.31,0,0,1-.4,1,4,4,0,0,1-3.7,2,4.57,4.57,0,0,1-3.88-1.92A5.35,5.35,0,0,1,5.77,13H2v3a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2ZM12.71,7.79a1,1,0,0,1,0,1.42l-2,2a1,1,0,0,1-1.42,0l-2-2A1,1,0,1,1,8.71,7.79l.29.3V5a1,1,0,0,1,2,0V8.09l.29-.3A1,1,0,0,1,12.71,7.79Z\" />\r\n  </svg>\r\n);\r\n\r\nexport const Refresh = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.96 17.65\">\r\n    <clipPath id=\"clip-path\" transform=\"translate(-3.49 -2.69)\">\r\n      <rect width=\"24\" height=\"24\" />\r\n    </clipPath>\r\n    <path\r\n      d=\"M16.51,15.75l-.59.13a1,1,0,0,1-1.22-.79,1.09,1.09,0,0,1,.81-1.27l2.9-.67a1,1,0,0,1,1.19.68l.8,2.52a1.1,1.1,0,0,1-.68,1.35,1,1,0,0,1-1.3-.66l-.09-.27a9,9,0,0,1-4.16,3.12,8.31,8.31,0,0,1-6.4-.41,8.45,8.45,0,0,1-4.2-4.93,1.1,1.1,0,0,1,.68-1.35,1,1,0,0,1,1.3.65,6.44,6.44,0,0,0,3.17,3.73,6.3,6.3,0,0,0,4.82.31A6.91,6.91,0,0,0,16.51,15.75ZM8.42,9.22A1.09,1.09,0,0,0,9.24,8,1,1,0,0,0,8,7.16l-.59.14a6.83,6.83,0,0,1,3-2.15,6.26,6.26,0,0,1,4.82.32,6.37,6.37,0,0,1,3.16,3.72,1,1,0,0,0,1.31.65,1.08,1.08,0,0,0,.67-1.35,8.47,8.47,0,0,0-4.19-4.93,8.31,8.31,0,0,0-6.4-.41A9,9,0,0,0,5.6,6.27L5.52,6a1,1,0,0,0-1.31-.65A1.09,1.09,0,0,0,3.54,6.7l.79,2.51a1,1,0,0,0,1.2.68Z\"\r\n      transform=\"translate(-3.49 -2.69)\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const PaperAirplane = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 18\">\r\n    <path d=\"M19.73.32a1,1,0,0,1,.18,1.1l-7.5,16a1,1,0,0,1-.84.58,1,1,0,0,1-.9-.45L8.81,14.76,6,16.37a1,1,0,0,1-1,0,1,1,0,0,1-.5-.86V10.65L.59,8.91A1,1,0,0,1,.64,7.07l18-7A1,1,0,0,1,19.73.32ZM6.5,11.62l.32.16.87,1.31-1.19.69Zm2.32-.44L11.35,15,16.09,4.86ZM14,4,3.6,8.06l2.31,1,0,0,1.4.7Z\" />\r\n  </svg>\r\n);\r\n\r\nexport const TrashCan = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 20\">\r\n    <path d=\"M13.3,3H13a3,3,0,0,0-3-3H8A3,3,0,0,0,5,3H1A1,1,0,0,0,0,4,1,1,0,0,0,1,5H2V17a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V5h1a1,1,0,0,0,1-1,1,1,0,0,0-1-1H13.3ZM14,5H4V17a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V5ZM7,3h4a1,1,0,0,0-1-1H8A1,1,0,0,0,7,3ZM7,7A1,1,0,0,1,8,8v7a1,1,0,0,1-2,0V8A1,1,0,0,1,7,7Zm5,1a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z\" />\r\n  </svg>\r\n);\r\n\r\nexport const CrossMark = (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\r\n    <path d=\"M17.7,1.71a1,1,0,0,0,0-1.42,1,1,0,0,0-1.4,0L9,7.59,1.7.29A1,1,0,0,0,.3.29a1,1,0,0,0,0,1.42L7.6,9,.3,16.29a1,1,0,0,0,1.4,1.42L9,10.41l7.3,7.3a1,1,0,0,0,1.4-1.42L10.4,9Z\" />\r\n  </svg>\r\n);\r\n","export const ValidateUsername = (value) => {\r\n  if (value.match(/^[a-zA-Z]+$/) && value) {\r\n    return true;\r\n  } else {\r\n    return \"Only english letters\";\r\n  }\r\n};\r\n\r\nexport const ValidatePassword = (value) => {\r\n  if (value.match(/[A-Za-z0-9]+$/) && value) {\r\n    if (value.length >= 6) {\r\n      return true;\r\n    } else {\r\n      return \"Too short, 6 letters min\";\r\n    }\r\n  } else {\r\n    return \"Only english letters and numbers\";\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport TextInput from \"../../TextInput\";\r\nimport Loader from \"../../Loader\";\r\nimport TextArea from \"../../TextArea\";\r\nimport { sendMessage, updateMessageList } from \"../../../redux/actions/message\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Button from \"../../Button\";\r\nimport { CrossMark } from \"../../../utils/Icons\";\r\nimport \"./message-prompt.scss\";\r\nimport { ValidateUsername } from \"../../../utils/Validators\";\r\nconst MessagePrompt = (props) => {\r\n  const [recipient, setRecipient] = useState(\"\");\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [messageText, setMessage] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const error = useSelector((state) => state.messages.messageError);\r\n  const loadingMessage = useSelector((state) => state.messages.loadingMessage);\r\n  const { userInfo } = useSelector((state) => state.user);\r\n  const dispatch = useDispatch();\r\n  const sendMessageHandler = () => {\r\n    const message = {\r\n      senderId: userInfo.id,\r\n      recipient,\r\n      topic,\r\n      messageText,\r\n    };\r\n    setSuccess(false);\r\n    if (recipient && topic && messageText) {\r\n      dispatch(sendMessage(message, handleSucces));\r\n    }\r\n  };\r\n\r\n  const handleSucces = () => {\r\n    setSuccess(true);\r\n    if (props.mailbox === \"sent\") {\r\n      dispatch(updateMessageList(userInfo.id, props.mailbox));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`message-prompt-wrapper popup`}>\r\n      {loadingMessage ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <div className={`message-prompt-top-row`}>\r\n            <h1 className={`message-heading`}>New Message</h1>\r\n            <Button\r\n              className={`close-btn`}\r\n              icon={CrossMark}\r\n              onClick={props.toggleHandler}\r\n            />\r\n          </div>\r\n          <TextInput\r\n            onChange={setRecipient}\r\n            validator={ValidateUsername}\r\n            maxLength={20}\r\n            label={\"To\"}\r\n          />\r\n          <TextInput\r\n            onChange={setTopic}\r\n            minLength={1}\r\n            maxLength={255}\r\n            label={\"Topic\"}\r\n          />\r\n          <TextArea\r\n            onChange={setMessage}\r\n            minLength={1}\r\n            maxLength={255}\r\n            label={\"Message\"}\r\n          />\r\n          <div className={`alert-box`}>\r\n            <span className={`error-text`}>{error ? error : \"\"}</span>\r\n            <span className={`success-text`}>\r\n              {success ? \"Message Sent!\" : \"\"}\r\n            </span>\r\n          </div>\r\n          <Button\r\n            onClick={() => sendMessageHandler()}\r\n            className={`primary-btn`}\r\n            text={\"Send message\"}\r\n          />{\" \"}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagePrompt;\r\n","import MessagePrompt from \"./MessagePrompt\";\r\n\r\nexport const GeneratePopup = (props) => {\r\n  const popups = {\r\n    message: <MessagePrompt {...props} />,\r\n  };\r\n  return popups[props.type];\r\n};\r\n","import { GeneratePopup } from \"./PopupGenerator\";\r\nconst Popup = (props) => {\r\n  return <>{GeneratePopup(props)}</>;\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"../Button\";\r\nimport Popup from \"../Popup\";\r\nimport {\r\n  OutBoundMailBox,\r\n  InBoundMailBox,\r\n  Refresh,\r\n  PaperAirplane,\r\n} from \"../../utils/Icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { updateMessageList } from \"../../redux/actions/message\";\r\nimport \"./user-menu.scss\";\r\nconst UserMenu = (props) => {\r\n  const { activeMailbox } = props;\r\n  const userInfo = useSelector((state) => state.user.userInfo);\r\n  const dispatch = useDispatch();\r\n\r\n  const activeMailboxHandler = (name) => {\r\n    props.setActiveMailbox(name);\r\n    dispatch(updateMessageList(userInfo.id, name));\r\n  };\r\n\r\n  const [messageToggled, toggleMessage] = useState(false);\r\n\r\n  const refreshHandler = () => {\r\n    dispatch(updateMessageList(userInfo.id, activeMailbox));\r\n  };\r\n\r\n  return (\r\n    <div className={`user-menu-wrapper`}>\r\n      <div className={`mailboxes-wrapper`}>\r\n        <Button\r\n          text={\"Received\"}\r\n          onClick={() => activeMailboxHandler(\"received\")}\r\n          className={`mailbox-btn  ${\r\n            activeMailbox === \"received\" ? \"active\" : \"\"\r\n          }`}\r\n          icon={InBoundMailBox}\r\n        />\r\n        <Button\r\n          text={\"Sent\"}\r\n          onClick={() => activeMailboxHandler(\"sent\")}\r\n          className={`mailbox-btn ${activeMailbox === \"sent\" ? \"active\" : \"\"}`}\r\n          icon={OutBoundMailBox}\r\n        />\r\n      </div>\r\n      <div className={`actions-wrapper`}>\r\n        <Button\r\n          className={`refresh-btn`}\r\n          icon={Refresh}\r\n          onClick={() => refreshHandler()}\r\n        />\r\n        <Button\r\n          text={\"Send message\"}\r\n          className={`primary-btn`}\r\n          icon={PaperAirplane}\r\n          onClick={() => toggleMessage(!messageToggled)}\r\n        />\r\n      </div>\r\n      {messageToggled && (\r\n        <Popup\r\n          mailbox={activeMailbox}\r\n          type=\"message\"\r\n          toggleHandler={() => toggleMessage(!messageToggled)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { readMessage } from \"../../redux/actions/message\";\r\nimport Button from \"../../components/Button\";\r\nimport { TrashCan } from \"../../utils/Icons\";\r\nimport \"./message.scss\";\r\nconst Message = (props) => {\r\n  const {\r\n    was_read,\r\n    topic,\r\n    created_at,\r\n    content,\r\n    role,\r\n    id,\r\n    sender_name,\r\n    recipient_name,\r\n    deleteHandler,\r\n    type,\r\n  } = props;\r\n  const [open, toggleMessage] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const userId = useSelector((state) => state.user.userInfo.id);\r\n  \r\n  const onClickHandler = () => {\r\n    toggleMessage(!open);\r\n    if (!was_read && type !== \"sent\") {\r\n      dispatch(readMessage(userId, id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`message-wrapper ${open ? \"open\" : \"\"} ${\r\n          !was_read && type !== \"sent\" ? \"active\" : \"\"\r\n        }`}\r\n      >\r\n        <div onClick={() => onClickHandler()} className={`text-content`}>\r\n          <span className={`message-body-text topic`}>{topic}</span>\r\n          <span\r\n            className={`message-body-text from ${\r\n              type !== \"sent\" ? \"hideOnMobile\" : \"\"\r\n            }`}\r\n          >\r\n            {sender_name}\r\n          </span>\r\n          <span\r\n            className={`message-body-text to ${\r\n              type !== \"received\" ? \"hideOnMobile\" : \"\"\r\n            }`}\r\n          >\r\n            {recipient_name}\r\n          </span>\r\n          <span className={`message-body-text`}>{`${new Date(\r\n            created_at\r\n          ).toLocaleString(\"he-IL\")}`}</span>\r\n        </div>\r\n        <Button\r\n          onClick={() => {\r\n            deleteHandler(id);\r\n          }}\r\n          className={`trash-btn`}\r\n          icon={TrashCan}\r\n        />\r\n      </div>\r\n      <div className={`message-content ${open ? \"open\" : \"\"}`}>\r\n        <span className={`message-text`}>{content}</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\r\nimport UserMenu from \"../../components/UserMenu\";\r\nimport Message from \"../../components/Message\";\r\nimport { updateMessageList, deleteMessage } from \"../../redux/actions/message\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loader from \"../../components/Loader\";\r\nimport Logo from \"../../assets/Logo.png\";\r\nimport Token from \"../../utils/Token\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./mailbox.scss\";\r\n\r\nconst Mailbox = (props) => {\r\n  const messageList = useSelector((state) => state.messages.messageList) || [];\r\n  const loadingList = useSelector((state) => state.messages.loadingList);\r\n  const userInfo = useSelector((state) => state.user.userInfo);\r\n  const error = useSelector((state) => state.user.error);\r\n  const [activeMailbox, setActiveMailbox] = useState(\"received\");\r\n  const dispatch = useDispatch();\r\n  const token = Token.getToken();\r\n\r\n  useState(() => {\r\n    if (!token || !userInfo.id) {\r\n      props.history.push(\"/auth\");\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    if (userInfo.id) {\r\n      dispatch(updateMessageList(userInfo.id, \"received\"));\r\n    }\r\n  }, []);\r\n\r\n  const deletePromptHandler = (message_id) => {\r\n    const accepted = window.confirm(\r\n      \"Are you sure you want to delete this message?\"\r\n    );\r\n    if (accepted) {\r\n      dispatch(deleteMessage(userInfo.id, message_id, activeMailbox));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className={`mailbox-page-wrapper`}>\r\n        <nav>\r\n          <img className={`Logo`} src={Logo} alt={\"logo\"} />\r\n        </nav>\r\n        <UserMenu\r\n          activeMailbox={activeMailbox}\r\n          setActiveMailbox={setActiveMailbox}\r\n        />\r\n        <div className={`label-row`}>\r\n          <span className={`list-label topic`}>Topic</span>\r\n          <span className={`list-label from`}>From</span>\r\n          <span className={`list-label to`}>To</span>\r\n          <span className={`list-label date`}>Date</span>\r\n        </div>\r\n        <div className={`messages-list`}>\r\n          {error?.response.data ? (\r\n            <span className={`error-text`}>{error.response.data}</span>\r\n          ) : loadingList ? (\r\n            <Loader />\r\n          ) : messageList.length ? (\r\n            messageList.map((props) => (\r\n              <Message\r\n                {...props}\r\n                key={props.id}\r\n                deleteHandler={deletePromptHandler}\r\n                type={activeMailbox}\r\n              />\r\n            ))\r\n          ) : (\r\n            <span className={`error-text centered`}>No Messages</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Mailbox);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../../components/Loader\";\r\nimport {\r\n  signIn,\r\n  signUp,\r\n  signInFailed,\r\n  signUpFailed,\r\n  signUpSuccess,\r\n} from \"../../redux/actions/user\";\r\nimport TextInput from \"../../components/TextInput\";\r\nimport Button from \"../../components/Button\";\r\nimport Logo from \"../../assets/Logo.png\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ValidateUsername, ValidatePassword } from \"../../utils/Validators\";\r\nimport \"./login.scss\";\r\n\r\nconst Auth = (props) => {\r\n  const [signUpMode, toggleSignUp] = useState(false);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [verifyPassword, setVerifyPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const error = useSelector((state) => state.user.authError);\r\n  const loadingAuth = useSelector((state) => state.user.loadingAuth);\r\n\r\n  useEffect(() => {\r\n    //reset store, recommended to be an action on its own\r\n    dispatch(signUpSuccess());\r\n  }, []);\r\n\r\n  const usernameValid =\r\n    typeof ValidateUsername(userName) === \"boolean\" && userName.length\r\n      ? true\r\n      : false;\r\n  const passwordValid =\r\n    typeof ValidatePassword(password) === \"boolean\" && password.length\r\n      ? true\r\n      : false;\r\n  const verifyPasswordsValid =\r\n    typeof ValidatePassword(verifyPassword) === \"boolean\" &&\r\n    verifyPassword.length &&\r\n    password === verifyPassword\r\n      ? true\r\n      : false;\r\n\r\n  const signUpHandler = async () => {\r\n    if (usernameValid & passwordValid & verifyPasswordsValid) {\r\n      dispatch(signUp({ userName, password }, forwardToMailbox));\r\n    } else {\r\n      dispatch(signInFailed({ response: { data: \"Invalid fields\" } }));\r\n    }\r\n  };\r\n\r\n  const forwardToMailbox = () => {\r\n    props.history.push(\"/\");\r\n  };\r\n\r\n  const signInHandler = () => {\r\n    if (usernameValid & passwordValid) {\r\n      dispatch(signIn({ userName, password }, forwardToMailbox));\r\n    } else {\r\n      dispatch(signUpFailed({ response: { data: \"Invalid fields\" } }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`login-page-wrapper`}>\r\n      <div className={`login-form-card`}>\r\n        {loadingAuth ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            {\" \"}\r\n            <form>\r\n              <img className={`logo`} alt={\"heromail\"} src={Logo} />\r\n              <TextInput\r\n                label={\"Username\"}\r\n                value={userName}\r\n                maxLength={20}\r\n                validator={ValidateUsername}\r\n                onChange={setUserName}\r\n              />\r\n              <TextInput\r\n                label={\"Password\"}\r\n                value={password}\r\n                password\r\n                maxLength={40}\r\n                validator={ValidatePassword}\r\n                onChange={setPassword}\r\n              />\r\n              {signUpMode && (\r\n                <TextInput\r\n                  value={verifyPassword}\r\n                  label={\"Verify Password\"}\r\n                  password\r\n                  maxLength={40}\r\n                  validator={ValidatePassword}\r\n                  onChange={setVerifyPassword}\r\n                />\r\n              )}\r\n            </form>\r\n            {error && <span className={`error-text`}>{error}</span>}\r\n            <div className={`button-wrapper`}>\r\n              <Button\r\n                text={`${signUpMode ? \"Sign up\" : \"Log in\"}`}\r\n                className={`primary-btn`}\r\n                onClick={\r\n                  signUpMode ? () => signUpHandler() : () => signInHandler()\r\n                }\r\n                blockBtn\r\n              />\r\n              <Button\r\n                onClick={() => toggleSignUp(!signUpMode)}\r\n                text={`Switch to ${!signUpMode ? \"sign up\" : \"log in\"}`}\r\n                className={`secondary-btn`}\r\n                blockBtn\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Auth);\r\n","import React, { useState } from \"react\";\r\nimport Mailbox from \"./Mailbox\";\r\nimport Auth from \"./Auth\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <Mailbox />\r\n      </Route>\r\n      <Route exact path=\"/auth\">\r\n        <Auth />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default withRouter(Routes);\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { Provider } from \"react-redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootSaga from \"./redux/sagas/index\";\r\nimport rootReducer from \"./redux/reducers/rootReducer\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport Routes from \"./pages/Routes\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./styles/_vars.scss\";\r\nimport \"./styles/app.scss\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n};\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nfunction App() {\r\n  const sagaMiddleWare = createSagaMiddleware();\r\n  const store = createStore(persistedReducer, applyMiddleware(sagaMiddleWare));\r\n  let persistor = persistStore(store);\r\n  sagaMiddleWare.run(rootSaga);\r\n  return (\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <Router>\r\n          <Routes />\r\n        </Router>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}