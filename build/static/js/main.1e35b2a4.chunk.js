(this.webpackJsonpherolo=this.webpackJsonpherolo||[]).push([[0],{53:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(24),o=a.n(s),i=(a(53),a(14)),u=a(43),l=a(9),j=a(47),b=a(8),d=a.n(b),O=a(5),x=function(e,t){return{type:"REQUEST_MESSAGE_LIST",data:{user_id:e,mode:t}}},h=function(e){return{type:"SENT_MESSAGE_FAILED",data:{error:e}}},p=a(18),g=a.n(p),A=function(e){return localStorage.setItem("token",e)},m=function(){return localStorage.getItem("token")},f="http://127.0.0.1:3333/",v=function(e){var t=m();return g.a.post("".concat(f,"message/send"),e,{headers:{Authorization:"Bearer ".concat(t)}})},S=function(e){var t=m();return g.a.delete("".concat(f,"message/delete"),{params:e,headers:{Authorization:"Bearer ".concat(t)}})},E=function(e){var t=m();return g.a.put("".concat(f,"message/read"),{message_id:e},{headers:{Authorization:"Bearer ".concat(t)}})},w=function(e){var t=m();return g.a.get("".concat(f,"message/list"),{params:e,headers:{Authorization:"Bearer ".concat(t)}})},N=d.a.mark(k),I=d.a.mark(V),y=d.a.mark(T),C=d.a.mark(G),M=d.a.mark(L);function k(e){var t,a,n,c;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,a=e.mode,r.prev=1,r.next=4,Object(O.a)(w,t,a);case 4:return n=r.sent,c=n.data,r.next=8,Object(O.c)({type:"MESSAGE_LIST_SUCCESS",data:{messages:c}});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(O.c)({type:"MESSAGE_LIST_FAILED",data:{error:r.t0}});case 14:case"end":return r.stop()}}),N,null,[[1,10]])}function V(e){var t,a,n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.data,a=t.message,n=t.callback,c.prev=1,c.next=4,Object(O.a)(v,a);case 4:return c.next=6,Object(O.a)(n,null);case 6:return c.next=8,Object(O.c)({type:"SENT_MESSAGE_SUCCESS",data:{}});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(O.c)(h(c.t0));case 14:case"end":return c.stop()}}),I,null,[[1,10]])}function T(e){var t,a,n,c;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,a=t.user_id,n=t.message_id,c=t.type,r.prev=1,r.next=4,Object(O.a)(S,{user_id:a,message_id:n});case 4:return r.sent,r.next=7,Object(O.c)(x(a,c));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(O.c)(h(r.t0));case 13:case"end":return r.stop()}}),y,null,[[1,9]])}function G(e){var t,a,n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.data,a=t.user_id,n=t.message_id,c.prev=1,c.next=4,Object(O.a)(E,n);case 4:return c.next=6,Object(O.c)(x(a,"received"));case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(O.c)(h(c.t0));case 12:case"end":return c.stop()}}),C,null,[[1,8]])}function L(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("REQUEST_MESSAGE_LIST",k);case 2:return e.next=4,Object(O.e)("REQUEST_SEND_MESSAGE",V);case 4:return e.next=6,Object(O.e)("REQUEST_DELETE_MESSAGE",T);case 6:return e.next=8,Object(O.e)("REQUEST_READ_MESSAGE",G);case 8:case"end":return e.stop()}}),M)}var R=a(7),H=function(e){return{type:"SIGN_IN_SUCCESS",data:{userInfo:e}}},U=function(e){return{type:"SIGN_IN_FAILED",data:{error:e}}},Z=function(e){return{type:"SIGN_UP_FAILED",data:{error:e}}},W=a(22),_="http://127.0.0.1:3333/",F={signIn:function(){var e=Object(W.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(_,"users/sign-in"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signUp:function(){var e=Object(W.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(_,"users/sign-up"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=d.a.mark(Y),D=d.a.mark(Q),B=d.a.mark(J);function Y(e){var t,a,n,c,r,s,o;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.data,a=t.userInfo,n=t.callback,i.prev=1,i.next=4,Object(O.a)(F.signIn,Object(R.a)({},a));case 4:return c=i.sent,r=c.data,s=r.token,o=r.user,i.next=10,Object(O.a)(A,s.token);case 10:return i.next=12,Object(O.c)(H(o));case 12:return i.next=14,Object(O.a)(n,null);case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(1),i.next=20,Object(O.c)(U(i.t0));case 20:case"end":return i.stop()}}),K,null,[[1,16]])}function Q(e){var t,a,n,c,r,s,o;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.data,a=t.userInfo,n=t.callback,i.prev=1,i.next=4,Object(O.a)(F.signUp,Object(R.a)({},a));case 4:return i.next=6,Object(O.a)(F.signIn,Object(R.a)({},a));case 6:return c=i.sent,r=c.data,s=r.token,o=r.user,i.next=12,Object(O.a)(A,s.token);case 12:return i.next=14,Object(O.c)(H(o));case 14:return i.next=16,Object(O.a)(n,null);case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(1),i.next=22,Object(O.c)(Z(i.t0));case 22:case"end":return i.stop()}}),D,null,[[1,18]])}function J(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("REQUEST_SIGN_IN",Y);case 2:return e.next=4,Object(O.d)("REQUEST_SIGN_UP",Q);case 4:case"end":return e.stop()}}),B)}var P=d.a.mark(X);function X(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)(J);case 2:return e.next=4,Object(O.b)(L);case 4:case"end":return e.stop()}}),P)}var z={userInfo:{},authError:"",loadingAuth:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.data;switch(t.type){case"REQUEST_SIGN_IN":return Object(R.a)(Object(R.a)({},e),{},{loadingAuth:!0});case"SIGN_IN_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{userInfo:Object(R.a)({},a.userInfo),loadingAuth:!1,authError:""});case"SIGN_UP_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{loadingAuth:!1,authError:""});case"SIGN_IN_FAILED":case"SIGN_UP_FAILED":return Object(R.a)(Object(R.a)({},e),{},{loadingAuth:!1,authError:a.error.response.data});default:return e}},$=a(46),ee={messageList:[],loadingList:!1,messageError:"",listError:"",loadingMessage:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a=t.data;switch(t.type){case"MESSAGE_LIST_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{messageList:Object($.a)(a.messages),loadingList:!1,listError:""});case"REQUEST_SEND_MESSAGE":return Object(R.a)(Object(R.a)({},e),{},{loadingMessage:!0});case"SENT_MESSAGE_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{messageError:"",loadingMessage:!1});case"REQUESTING_LIST":return Object(R.a)(Object(R.a)({},e),{},{loadingList:!0});case"MESSAGE_LIST_FAILED":return Object(R.a)(Object(R.a)({},e),{},{listError:a.error.response.data,loadingList:!1});case"SENT_MESSAGE_FAILED":return Object(R.a)(Object(R.a)({},e),{},{messageError:a.error.response.data,loadingMessage:!1});default:return e}},ae=Object(i.c)({user:q,messages:te}),ne=a(33),ce=a(45),re=a.n(ce),se=a(11),oe=(a(78),function(e){var t=e.text,a=e.className,c=e.onClick,r=e.blockBtn,s=e.icon;return Object(n.jsxs)("button",{onClick:c,style:r&&{width:"100%",display:"block"},className:a,children:[s,t]})}),ie=(a(79),function(e){var t=e.label,a=e.onChange,r=e.password,s=e.minLength,o=e.maxLength,i=e.validator,u=e.value,l=Object(c.useState)(""),j=Object(se.a)(l,2),b=j[0],d=j[1],O=function(e){var t=e.target.value,n=!i||!t.length||i(t);"boolean"===typeof n&&n?b&&d(""):d(n),a(t)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"text-input-wrapper",children:[Object(n.jsx)("label",{children:t}),Object(n.jsx)("input",{type:r?"password":"text",minLength:s,maxLength:o,value:u,onChange:function(e){return O(e)}})]}),Object(n.jsx)("span",{className:"error-text mini",children:b})]})}),ue=(a(80),function(){return Object(n.jsx)("div",{className:"loader"})}),le=(a(81),function(e){var t=e.label,a=e.onChange,c=e.value;return Object(n.jsxs)("div",{className:"text-area-wrapper",children:[Object(n.jsx)("label",{children:t}),Object(n.jsx)("textarea",{value:c,onChange:function(e){return a(e.target.value)}})]})}),je=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(n.jsx)("path",{d:"M4,0H16a4,4,0,0,1,4,4V16a4,4,0,0,1-4,4H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0ZM4,2A2,2,0,0,0,2,4v7H6.5a1,1,0,0,1,1,.81h0s0,0,0,.06a2.15,2.15,0,0,0,.08.25,3.34,3.34,0,0,0,.41.79A2.58,2.58,0,0,0,10.24,14a2,2,0,0,0,1.95-1,2.54,2.54,0,0,0,.27-.75c0-.1,0-.19,0-.24V12h0a1,1,0,0,1,1-1H18V4a2,2,0,0,0-2-2ZM18,13H14.34a4.31,4.31,0,0,1-.4,1,4,4,0,0,1-3.7,2,4.57,4.57,0,0,1-3.88-1.92A5.35,5.35,0,0,1,5.77,13H2v3a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2ZM12.71,7.71a1,1,0,0,0,0-1.42l-2-2a1,1,0,0,0-1.42,0l-2,2A1,1,0,1,0,8.71,7.71L9,7.41V10.5a1,1,0,0,0,2,0V7.41l.29.3A1,1,0,0,0,12.71,7.71Z"})}),be=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(n.jsx)("path",{d:"M4,0H16a4,4,0,0,1,4,4V16a4,4,0,0,1-4,4H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0ZM4,2A2,2,0,0,0,2,4v7H6.5a1,1,0,0,1,1,.81h0s0,0,0,.06a2.15,2.15,0,0,0,.08.25,3.34,3.34,0,0,0,.41.79A2.58,2.58,0,0,0,10.24,14a2,2,0,0,0,1.95-1,2.54,2.54,0,0,0,.27-.75c0-.1,0-.19,0-.24V12h0a1,1,0,0,1,1-1H18V4a2,2,0,0,0-2-2ZM18,13H14.34a4.31,4.31,0,0,1-.4,1,4,4,0,0,1-3.7,2,4.57,4.57,0,0,1-3.88-1.92A5.35,5.35,0,0,1,5.77,13H2v3a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2ZM12.71,7.79a1,1,0,0,1,0,1.42l-2,2a1,1,0,0,1-1.42,0l-2-2A1,1,0,1,1,8.71,7.79l.29.3V5a1,1,0,0,1,2,0V8.09l.29-.3A1,1,0,0,1,12.71,7.79Z"})}),de=Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.96 17.65",children:[Object(n.jsx)("clipPath",{id:"clip-path",transform:"translate(-3.49 -2.69)",children:Object(n.jsx)("rect",{width:"24",height:"24"})}),Object(n.jsx)("path",{d:"M16.51,15.75l-.59.13a1,1,0,0,1-1.22-.79,1.09,1.09,0,0,1,.81-1.27l2.9-.67a1,1,0,0,1,1.19.68l.8,2.52a1.1,1.1,0,0,1-.68,1.35,1,1,0,0,1-1.3-.66l-.09-.27a9,9,0,0,1-4.16,3.12,8.31,8.31,0,0,1-6.4-.41,8.45,8.45,0,0,1-4.2-4.93,1.1,1.1,0,0,1,.68-1.35,1,1,0,0,1,1.3.65,6.44,6.44,0,0,0,3.17,3.73,6.3,6.3,0,0,0,4.82.31A6.91,6.91,0,0,0,16.51,15.75ZM8.42,9.22A1.09,1.09,0,0,0,9.24,8,1,1,0,0,0,8,7.16l-.59.14a6.83,6.83,0,0,1,3-2.15,6.26,6.26,0,0,1,4.82.32,6.37,6.37,0,0,1,3.16,3.72,1,1,0,0,0,1.31.65,1.08,1.08,0,0,0,.67-1.35,8.47,8.47,0,0,0-4.19-4.93,8.31,8.31,0,0,0-6.4-.41A9,9,0,0,0,5.6,6.27L5.52,6a1,1,0,0,0-1.31-.65A1.09,1.09,0,0,0,3.54,6.7l.79,2.51a1,1,0,0,0,1.2.68Z",transform:"translate(-3.49 -2.69)"})]}),Oe=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 18",children:Object(n.jsx)("path",{d:"M19.73.32a1,1,0,0,1,.18,1.1l-7.5,16a1,1,0,0,1-.84.58,1,1,0,0,1-.9-.45L8.81,14.76,6,16.37a1,1,0,0,1-1,0,1,1,0,0,1-.5-.86V10.65L.59,8.91A1,1,0,0,1,.64,7.07l18-7A1,1,0,0,1,19.73.32ZM6.5,11.62l.32.16.87,1.31-1.19.69Zm2.32-.44L11.35,15,16.09,4.86ZM14,4,3.6,8.06l2.31,1,0,0,1.4.7Z"})}),xe=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 20",children:Object(n.jsx)("path",{d:"M13.3,3H13a3,3,0,0,0-3-3H8A3,3,0,0,0,5,3H1A1,1,0,0,0,0,4,1,1,0,0,0,1,5H2V17a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V5h1a1,1,0,0,0,1-1,1,1,0,0,0-1-1H13.3ZM14,5H4V17a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V5ZM7,3h4a1,1,0,0,0-1-1H8A1,1,0,0,0,7,3ZM7,7A1,1,0,0,1,8,8v7a1,1,0,0,1-2,0V8A1,1,0,0,1,7,7Zm5,1a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z"})}),he=Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",children:Object(n.jsx)("path",{d:"M17.7,1.71a1,1,0,0,0,0-1.42,1,1,0,0,0-1.4,0L9,7.59,1.7.29A1,1,0,0,0,.3.29a1,1,0,0,0,0,1.42L7.6,9,.3,16.29a1,1,0,0,0,1.4,1.42L9,10.41l7.3,7.3a1,1,0,0,0,1.4-1.42L10.4,9Z"})}),pe=(a(82),function(e){return!(!e.match(/^[a-zA-Z]+$/)||!e)||"Only english letters"}),ge=function(e){return e.match(/[A-Za-z0-9]+$/)&&e?e.length>=6||"Too short, 6 letters min":"Only english letters and numbers"},Ae=function(e){var t=Object(c.useState)(""),a=Object(se.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(se.a)(o,2),u=i[0],j=i[1],b=Object(c.useState)(""),d=Object(se.a)(b,2),O=d[0],h=d[1],p=Object(c.useState)(!1),g=Object(se.a)(p,2),A=g[0],m=g[1],f=Object(l.c)((function(e){return e.messages.messageError})),v=Object(l.c)((function(e){return e.messages.loadingMessage})),S=Object(l.c)((function(e){return e.user})).userInfo,E=Object(l.b)(),w=function(){m(!0),"sent"===e.mailbox&&E(x(S.id,e.mailbox))};return Object(n.jsx)("div",{className:"message-prompt-wrapper popup",children:v?Object(n.jsx)(ue,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"message-prompt-top-row",children:[Object(n.jsx)("h1",{className:"message-heading",children:"New Message"}),Object(n.jsx)(oe,{className:"close-btn",icon:he,onClick:e.toggleHandler})]}),Object(n.jsx)(ie,{onChange:s,validator:pe,maxLength:20,label:"To"}),Object(n.jsx)(ie,{onChange:j,minLength:1,maxLength:255,label:"Topic"}),Object(n.jsx)(le,{onChange:h,minLength:1,maxLength:255,label:"Message"}),Object(n.jsxs)("div",{className:"alert-box",children:[Object(n.jsx)("span",{className:"error-text",children:f||""}),Object(n.jsx)("span",{className:"success-text",children:A?"Message Sent!":""})]}),Object(n.jsx)(oe,{onClick:function(){return function(){var e={senderId:S.id,recipient:r,topic:u,messageText:O};m(!1),r&&u&&O&&E(function(e,t){return{type:"REQUEST_SEND_MESSAGE",data:{message:e,callback:t}}}(e,w))}()},className:"primary-btn",text:"Send message"})," "]})})},me=function(e){return{message:Object(n.jsx)(Ae,Object(R.a)({},e))}[e.type]},fe=function(e){return Object(n.jsx)(n.Fragment,{children:me(e)})},ve=(a(83),function(e){var t=e.activeMailbox,a=Object(l.c)((function(e){return e.user.userInfo})),r=Object(l.b)(),s=function(t){e.setActiveMailbox(t),r(x(a.id,t))},o=Object(c.useState)(!1),i=Object(se.a)(o,2),u=i[0],j=i[1];return Object(n.jsxs)("div",{className:"user-menu-wrapper",children:[Object(n.jsxs)("div",{className:"mailboxes-wrapper",children:[Object(n.jsx)(oe,{text:"Received",onClick:function(){return s("received")},className:"mailbox-btn  ".concat("received"===t?"active":""),icon:be}),Object(n.jsx)(oe,{text:"Sent",onClick:function(){return s("sent")},className:"mailbox-btn ".concat("sent"===t?"active":""),icon:je})]}),Object(n.jsxs)("div",{className:"actions-wrapper",children:[Object(n.jsx)(oe,{className:"refresh-btn",icon:de,onClick:function(){r(x(a.id,t))}}),Object(n.jsx)(oe,{text:"Send message",className:"primary-btn",icon:Oe,onClick:function(){return j(!u)}})]}),u&&Object(n.jsx)(fe,{mailbox:t,type:"message",toggleHandler:function(){return j(!u)}})]})}),Se=(a(84),function(e){var t=e.was_read,a=e.topic,r=e.created_at,s=e.content,o=(e.role,e.id),i=e.sender_name,u=e.recipient_name,j=e.deleteHandler,b=e.type,d=Object(c.useState)(!1),O=Object(se.a)(d,2),x=O[0],h=O[1],p=Object(l.b)(),g=Object(l.c)((function(e){return e.user.userInfo.id}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"message-wrapper ".concat(x?"open":""," ").concat(t||"sent"===b?"":"active"),children:[Object(n.jsxs)("div",{onClick:function(){return h(!x),void(t||"sent"===b||p({type:"REQUEST_READ_MESSAGE",data:{user_id:g,message_id:o}}))},className:"text-content",children:[Object(n.jsx)("span",{className:"message-body-text topic",children:a}),Object(n.jsx)("span",{className:"message-body-text from ".concat("sent"!==b?"hideOnMobile":""),children:i}),Object(n.jsx)("span",{className:"message-body-text to ".concat("received"!==b?"hideOnMobile":""),children:u}),Object(n.jsx)("span",{className:"message-body-text",children:"".concat(new Date(r).toLocaleString("he-IL"))})]}),Object(n.jsx)(oe,{onClick:function(){j(o)},className:"trash-btn",icon:xe})]}),Object(n.jsx)("div",{className:"message-content ".concat(x?"open":""),children:Object(n.jsx)("span",{className:"message-text",children:s})})]})}),Ee="data:image/png;base64,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",we=a(10),Ne=(a(85),Object(we.f)((function(e){var t=Object(l.c)((function(e){return e.messages.messageList}))||[],a=Object(l.c)((function(e){return e.messages.loadingList})),r=Object(l.c)((function(e){return e.user.userInfo})),s=Object(l.c)((function(e){return e.user.error})),o=Object(c.useState)("received"),i=Object(se.a)(o,2),u=i[0],j=i[1],b=Object(l.b)(),d=m();Object(c.useState)((function(){d&&r.id||e.history.push("/auth")}),[d]),Object(c.useEffect)((function(){r.id&&b(x(r.id,"received"))}),[]);var O=function(e){window.confirm("Are you sure you want to delete this message?")&&b(function(e,t,a){return{type:"REQUEST_DELETE_MESSAGE",data:{user_id:e,message_id:t,type:a}}}(r.id,e,u))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"mailbox-page-wrapper",children:[Object(n.jsx)("nav",{children:Object(n.jsx)("img",{className:"Logo",src:Ee,alt:"logo"})}),Object(n.jsx)(ve,{activeMailbox:u,setActiveMailbox:j}),Object(n.jsxs)("div",{className:"label-row",children:[Object(n.jsx)("span",{className:"list-label topic",children:"Topic"}),Object(n.jsx)("span",{className:"list-label from",children:"From"}),Object(n.jsx)("span",{className:"list-label to",children:"To"}),Object(n.jsx)("span",{className:"list-label date",children:"Date"})]}),Object(n.jsx)("div",{className:"messages-list",children:(null===s||void 0===s?void 0:s.response.data)?Object(n.jsx)("span",{className:"error-text",children:s.response.data}):a?Object(n.jsx)(ue,{}):t.length?t.map((function(e){return Object(c.createElement)(Se,Object(R.a)(Object(R.a)({},e),{},{key:e.id,deleteHandler:O,type:u}))})):Object(n.jsx)("span",{className:"error-text centered",children:"No Messages"})})]})})}))),Ie=(a(87),Object(we.f)((function(e){var t=Object(c.useState)(!1),a=Object(se.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(se.a)(o,2),u=i[0],j=i[1],b=Object(c.useState)(""),O=Object(se.a)(b,2),x=O[0],h=O[1],p=Object(c.useState)(""),g=Object(se.a)(p,2),A=g[0],m=g[1],f=Object(l.b)(),v=Object(l.c)((function(e){return e.user.authError})),S=Object(l.c)((function(e){return e.user.loadingAuth}));Object(c.useEffect)((function(){f({type:"SIGN_UP_SUCCESS",data:{}})}),[]);var E=!("boolean"!==typeof pe(u)||!u.length),w=!("boolean"!==typeof ge(x)||!x.length),N=!("boolean"!==typeof ge(A)||!A.length||x!==A),I=function(){var e=Object(W.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(E&w&N?{type:"REQUEST_SIGN_UP",data:{userInfo:{userName:u,password:x},callback:y}}:U({response:{data:"Invalid fields"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){e.history.push("/")};return Object(n.jsx)("div",{className:"login-page-wrapper",children:Object(n.jsx)("div",{className:"login-form-card",children:S?Object(n.jsx)(ue,{}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)("form",{children:[Object(n.jsx)("img",{className:"logo",alt:"heromail",src:Ee}),Object(n.jsx)(ie,{label:"Username",value:u,maxLength:20,validator:pe,onChange:j}),Object(n.jsx)(ie,{label:"Password",value:x,password:!0,maxLength:40,validator:ge,onChange:h}),r&&Object(n.jsx)(ie,{value:A,label:"Verify Password",password:!0,maxLength:40,validator:ge,onChange:m})]}),v&&Object(n.jsx)("span",{className:"error-text",children:v}),Object(n.jsxs)("div",{className:"button-wrapper",children:[Object(n.jsx)(oe,{text:"".concat(r?"Sign up":"Log in"),className:"primary-btn",onClick:r?function(){return I()}:function(){f(E&w?{type:"REQUEST_SIGN_IN",data:{userInfo:{userName:u,password:x},callback:y}}:Z({response:{data:"Invalid fields"}}))},blockBtn:!0}),Object(n.jsx)(oe,{onClick:function(){return s(!r)},text:"Switch to ".concat(r?"log in":"sign up"),className:"secondary-btn",blockBtn:!0})]})]})})})}))),ye=Object(we.f)((function(){return Object(n.jsxs)(we.c,{children:[Object(n.jsx)(we.a,{exact:!0,path:"/",children:Object(n.jsx)(Ne,{})}),Object(n.jsx)(we.a,{exact:!0,path:"/auth",children:Object(n.jsx)(Ie,{})})]})})),Ce=a(19),Me=(a(88),a(89),{key:"root",storage:re.a}),ke=Object(ne.a)(Me,ae);var Ve=function(){var e=Object(j.a)(),t=Object(i.e)(ke,Object(i.a)(e)),a=Object(ne.b)(t);return e.run(X),Object(n.jsx)(l.a,{store:t,children:Object(n.jsx)(u.a,{loading:null,persistor:a,children:Object(n.jsx)(Ce.a,{children:Object(n.jsx)(ye,{})})})})},Te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ve,{})}),document.getElementById("root")),Te()}},[[90,1,2]]]);
//# sourceMappingURL=main.1e35b2a4.chunk.js.map